<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>示例demo</title>
    <link rel="stylesheet" href="layui/css/layui.css">
</head>
<body>
<table class="layui-hide" id="tableId" lay-filter="tableEvent"></table>
</body>
<script src="layui/layui.js"></script>
<script>
    layui.config({
        base: 'module/'
    }).extend({
        layuiTableColumnEdit:'js/layuiTableColumnEdit'
    }).use(['table','layuiTableColumnEdit','layer'], function () {
        var table = layui.table,layuiTableColumnEdit = layui.layuiTableColumnEdit,$ = layui.$;
        var selectParams = [
            {name:1,value:"张三1"},
            {name:2,value:"张三2"},
            {name:3,value:"张三3"},
            {name:4,value:"张三4"},
            {name:5,value:"张三5"}
        ];
        var cols = table.render({
            elem: '#tableId'
            ,id:'id'
            ,url:'data.json'
            ,height: 'full-90'
            ,page: true
            ,cols: [[
                {type:'checkbox'}
                ,{field:'name',title: '姓名',width:120,event:'name'}
                ,{field:'danxuan', title: '单选',width:120,event:'danxuan',eventType:'select',data:selectParams}
                ,{field:'duoxuan', title: '多选',width:120,event:'duoxuan',eventType:'select',data:selectParams,enabled:true} //enabled（单、多选开关） true：多选，false：单选。默认为false
                ,{field:'birthday', title: '生日',width:120,event:'birthday',eventType:'date',dateType:'date'}
            ]]
        }).config.cols;
        //cols为列信息
        layuiTableColumnEdit.on('tool(tableEvent)',cols,function (obj) {
            var field = $(this).data('field');
            if(field === 'danxuan'){
                obj.update({danxuan:obj.value.value});
            }
            if(field === 'duoxuan'){
                obj.update({duoxuan:obj.value[0].value});
            }
            if(field === 'birthday'){
                obj.update({birthday:obj.value});
            }
        });

        /*
        * 注意：
        *
        * 1、 layuiTableColumnEdit.on('tool(xxx)',cols,function (obj) {})
        * 2、 table.on('tool(yyy)',cols,function (obj) {})
        *
        * 如果1中的xxx与2中的yyy字符串相同时，不能同时用，用了会造成后调用者覆盖前调用者。
        * 应该直接用1来代替2，因为1中包含了2中的事件。
        *
        * 如果不相同，则可以同时使用。
        * */
    });
</script>
</html>